<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
      <meta charset="UTF-8">
      <title>Courses</title>
    <link rel="stylesheet" th:href="@{/styles/CoursesPage.css}"/>
  </head>
  <body>
  <header>
    <img th:src="@{/images/logo.png}" alt="A-plus logo">
    <nav class="navBarContainer">
      <ul class="navBar">
        <li><a href="/" class="navBarLink">Home</a></li>
        <li><a href="/allcourses" class="currentEndpoint navBarLink">All Courses</a></li>
        <li><a href="/login" class="navBarLink">Login (WIP)</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <h2> All Currently Available Courses</h2>
    <table class="steelBlueCols">
      <thead>
        <tr>
          <th>ID</th><th>Name</th><th>Start Date</th><th>End Date</th><th>Max Capacity</th><th>Actions</th>
        </tr>
      </thead>

      <tbody>
        <tr th:each="course: ${courses}">
          <td th:text="${course.id}"/>
          <td th:text="${course.courseName}"/>
          <td th:text="${#dates.format(course.startDate, 'dd-MM-yyyy')}"/>
          <td th:text="${#dates.format(course.endDate, 'dd-MM-yyyy')}"/>
          <td th:text="${course.maxStudents}"/>
          <td>
            <a th:href="@{'/courses/edit/' + ${course.id}}" class="action-button" style="background-color: rgb(0,108,232)">Edit</a>
            <a th:href="@{'/courses/delete/' + ${course.id}}" class="action-button" style="background-color: #e2452b">Delete</a>
          </td>
        </tr>
      </tbody>
    </table>

    <br>

    <h2>Create a new Course</h2>
    <form method="post" th:action="@{/courses/new}" th:object="${course}">
      <label for="name">Course Name: </label> <input type="text" th:field="*{courseName}" id="name" required/>
      <br>
      <label for="startDate">Start Date: </label> <input type="date" th:field="*{startDate}" id="startDate" required/>
      <br>
      <label for="endDate">End Date: </label> <input type="date" th:field="*{endDate}" id="endDate" required/>
      <br>
      <label for="maxCapacity">Max Capacity: </label> <input type="number" th:field="*{maxStudents}" id="maxCapacity" required min="1">
      <br>
      <input type="submit" value="Submit!" class="action-button" style="background-color: #88D5E9; border-color: lightseagreen"/>
    </form>
  </main>
  </body>
</html>